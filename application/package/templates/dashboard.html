<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="{{ url_for('static', filename='soft-ui-dashboard-main/assets/img/apple-icon.png') }}">
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='soft-ui-dashboard-main/assets/img/favicon.png') }}">
  <title>
    HealEasy
  </title>

  <!-- Fonts and icons -->
  <link href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700,800" rel="stylesheet" />

  <!-- Nucleo Icons -->
  <link href="{{ url_for('static', filename='soft-ui-dashboard-main/css/nucleo-icons.css') }}" rel="stylesheet" />
  <link href="{{ url_for('static', filename='soft-ui-dashboard-main/css/nucleo-svg.css') }}" rel="stylesheet" />

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <!-- CSS for Data Table -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/2.2.2/css/dataTables.bootstrap4.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/2.2.2/css/dataTables.dataTables.css">

  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>

  <!-- Main CSS -->
  <link id="pagestyle" href="{{ url_for('static', filename='soft-ui-dashboard-main/css/soft-ui-dashboard.css') }}?v=1.1.0" rel="stylesheet" />

  <!-- Nepcha Analytics -->
  <script defer data-site="YOUR_DOMAIN_HERE" src="https://api.nepcha.com/js/nepcha-analytics.js"></script>

 <style>
    /* Mobile Toggle Button Styles */
    .mobile-toggle-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1050;
      background: linear-gradient(310deg, #e8e8ea 0%, #f0f0f3 100%);
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 12px;
      color: rgb(15, 15, 15);
      font-size: 18px;
      box-shadow: 0 4px 25px 0 rgba(20, 23, 39, 0.25);
      transition: all 0.3s ease;
      display: none; /* Hidden by default */
    }

    .mobile-toggle-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 30px 0 rgba(20, 23, 39, 0.35);
      color: #080808;
    }

    .mobile-toggle-btn:active {
      transform: scale(0.95);
    }

    /* Show toggle button only on mobile and tablet screens */
    @media (max-width: 1199.98px) {
      .mobile-toggle-btn {
        display: flex;
        align-items: center;
        justify-content: center;
      }
    }

    /* Sidebar overlay for mobile */
    /* Removed - no longer needed */

    /* Mobile sidebar adjustments */
    @media (max-width: 1199.98px) {
      #sidenav-main {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        position: fixed;
        z-index: 1045;
        height: 100vh;
        top: 0;
        left: 0;
        width: fit-content;
      }

      #sidenav-main.show {
        transform: translateX(0);
        overflow-y: scroll;

        background-color: #d6d7e1;
      }
    }

    /* Hamburger icon animation */
    .hamburger {
      display: inline-block;
      position: relative;
      width: 20px;
      height: 16px;
    }

    .hamburger span {
      display: block;
      position: absolute;
      height: 2px;
      width: 100%;
      background: currentColor;
      border-radius: 1px;
      opacity: 1;
      left: 0;
      transform: rotate(0deg);
      transition: .25s ease-in-out;
    }

    .hamburger span:nth-child(1) {
      top: 0px;
    }

    .hamburger span:nth-child(2) {
      top: 7px;
    }

    .hamburger span:nth-child(3) {
      top: 14px;
    }

    /* Hamburger animation when active */
    .hamburger.active span:nth-child(1) {
      top: 7px;
      transform: rotate(135deg);
    }

    .hamburger.active span:nth-child(2) {
      opacity: 0;
      left: -20px;
    }    .hamburger.active span:nth-child(3) {
      top: 7px;
      transform: rotate(-135deg);
    }          /* Footer styles */
    .footer {
      position: relative;
      bottom: 0;
      width: 100%;
      z-index: 1020;
      margin-top: 2rem;
      box-shadow: 0 -2px 12px 0 rgba(0,0,0,.05);
    }
    
    /* Ensure minimum height for the main content so the footer stays at bottom */
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    main {
      flex: 1;
      padding-bottom: 1.5rem;
    }
    
    /* Social media icon hover effects */
    .footer .nav-link:hover {
      transform: translateY(-3px);
      transition: all 0.3s ease;
    }
    
    /* Responsive footer adjustments */
    @media (max-width: 768px) {
      .footer {
        text-align: center;
      }
      
      .footer .copyright {
        margin-bottom: 1rem;
      }
    }
    
  </style>
</head>



<body class="g-sidenav-show bg-gray-100">
  <button class="mobile-toggle-btn mt-6" id="mobileToggleBtn" type="button">
    <span class="hamburger" id="hamburgerIcon">
      <span></span>
      <span></span>
      <span></span>
    </span>
  </button>
   <div class="sidebar-overlay" id="sidebarOverlay"></div>
  <aside class="sidenav navbar navbar-vertical navbar-expand-xl border-0 border-radius-xl my-8" id="sidenav-main">
    <div class="profile mt-3 ms-2 dropdown">
      {% if session['user'] %}
      <a class="d-flex align-items-center text-secondary dropdown-toggle" href="#" id="userDropdown"
        data-bs-toggle="dropdown" aria-expanded="false">        <img
          src="https://imgs.search.brave.com/y3hKHaQFUJLeAEC_2JWu_h3nU6o851RqxQsWfAuxNek/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9pLnBp/bmltZy5jb20vb3Jp/Z2luYWxzL2FhL2M4/L2M5L2FhYzhjOWU4/NmUxNWViN2M2Yjg3/MjE4ZmQ2MzdiMWQ2/LmpwZw"
          alt="avatar" width="40" height="40" class="rounded-circle me-2">
        <div>
          <strong>{{ session['pharmacy']['pharmacy_name'] }}</strong>
        </div>
      </a>      
      <ul class="dropdown-menu dropdown-menu-light text-dark" aria-labelledby="userDropdown">
        <li><a class="dropdown-item" href="{{ url_for('pharm_details.details') }}">Profile</a></li>
      </ul>

      {% endif %}
   
      <ul class="navbar-nav">
        {% if session['user'] %}
        <li class="nav-item">
          {% else %}
        <li class="nav-item" >
          {% endif %}          <a class="nav-link" href="{{ url_for('auth_bp.dashboard') }}">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 45 40" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>dashboard</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-1716.000000, -439.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(0.000000, 148.000000)">
                        <!-- Dashboard icon - grid layout -->
                        <path class="color-background opacity-6"
                          d="M5,10 L15,10 C16.1045695,10 17,10.8954305 17,12 L17,22 C17,23.1045695 16.1045695,24 15,24 L5,24 C3.8954305,24 3,23.1045695 3,22 L3,12 C3,10.8954305 3.8954305,10 5,10 Z">
                        </path>
                        <path class="color-background"
                          d="M25,10 L35,10 C36.1045695,10 37,10.8954305 37,12 L37,22 C37,23.1045695 36.1045695,24 35,24 L25,24 C23.8954305,24 23,23.1045695 23,22 L23,12 C23,10.8954305 23.8954305,10 25,10 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M5,30 L15,30 C16.1045695,30 17,30.8954305 17,32 L17,42 C17,43.1045695 16.1045695,44 15,44 L5,44 C3.8954305,44 3,43.1045695 3,42 L3,32 C3,30.8954305 3.8954305,30 5,30 Z">
                        </path>
                        <path class="color-background"
                          d="M25,30 L35,30 C36.1045695,30 37,30.8954305 37,32 L37,42 C37,43.1045695 36.1045695,44 35,44 L25,44 C23.8954305,44 23,43.1045695 23,42 L23,32 C23,30.8954305 23.8954305,30 25,30 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Dashboard</span>
          </a>
        </li>        
        <!-- Replace only the dropdown menu section -->
        
        <li class="nav-item dropdown">          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 45 40" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>master-management</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-1716.000000, -439.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(0.000000, 148.000000)">
                        <!-- Settings gear icon for master management -->
                        <path class="color-background"
                          d="M38.4151515,18.4727273 L35.8575758,17.7575758 C35.5030303,16.7272727 35.0060606,15.7575758 34.3939394,14.8787879 L35.3636364,12.4848485 C35.5636364,12.0909091 35.4666667,11.6060606 35.1515152,11.2909091 L33.7090909,9.84848485 C33.3939394,9.53333333 32.9090909,9.43636364 32.5151515,9.63636364 L30.1212121,10.6060606 C29.2424242,9.99393939 28.2727273,9.49696969 27.2424242,9.14242424 L26.5272727,6.58484848 C26.4060606,6.16969697 26.0393939,5.87878788 25.6121212,5.87878788 L23.3878788,5.87878788 C22.9606061,5.87878788 22.5939394,6.16969697 22.4727273,6.58484848 L21.7575758,9.14242424 C20.7272727,9.49696969 19.7575758,9.99393939 18.8787879,10.6060606 L16.4848485,9.63636364 C16.0909091,9.43636364 15.6060606,9.53333333 15.2909091,9.84848485 L13.8484848,11.2909091 C13.5333333,11.6060606 13.4363636,12.0909091 13.6363636,12.4848485 L14.6060606,14.8787879 C13.9939394,15.7575758 13.4969697,16.7272727 13.1424242,17.7575758 L10.5848485,18.4727273 C10.169697,18.5939394 9.87878788,18.9606061 9.87878788,19.3878788 L9.87878788,21.6121212 C9.87878788,22.0393939 10.169697,22.4060606 10.5848485,22.5272727 L13.1424242,23.2424242 C13.4969697,24.2727273 13.9939394,25.2424242 14.6060606,26.1212121 L13.6363636,28.5151515 C13.4363636,28.9090909 13.5333333,29.3939394 13.8484848,29.7090909 L15.2909091,31.1515152 C15.6060606,31.4666667 16.0909091,31.5636364 16.4848485,31.3636364 L18.8787879,30.3939394 C19.7575758,31.0060606 20.7272727,31.5030303 21.7575758,31.8575758 L22.4727273,34.4151515 C22.5939394,34.8303031 22.9606061,35.1212121 23.3878788,35.1212121 L25.6121212,35.1212121 C26.0393939,35.1212121 26.4060606,34.8303031 26.5272727,34.4151515 L27.2424242,31.8575758 C28.2727273,31.5030303 29.2424242,31.0060606 30.1212121,30.3939394 L32.5151515,31.3636364 C32.9090909,31.5636364 33.3939394,31.4666667 33.7090909,31.1515152 L35.1515152,29.7090909 C35.4666667,29.3939394 35.5636364,28.9090909 35.3636364,28.5151515 L34.3939394,26.1212121 C35.0060606,25.2424242 35.5030303,24.2727273 35.8575758,23.2424242 L38.4151515,22.5272727 C38.8303031,22.4060606 39.1212121,22.0393939 39.1212121,21.6121212 L39.1212121,19.3878788 C39.1212121,18.9606061 38.8303031,18.5939394 38.4151515,18.4727273 Z M24.5,27.5757576 C22.1621212,27.5757576 20.2727273,25.6863636 20.2727273,23.3484848 C20.2727273,21.010606 22.1621212,19.1212121 24.5,19.1212121 C26.8378788,19.1212121 28.7272727,21.010606 28.7272727,23.3484848 C28.7272727,25.6863636 26.8378788,27.5757576 24.5,27.5757576 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Master Management</span>
          </a>
          <ul class="dropdown-menu mx-5">
            <li><a class="dropdown-item" href="{{ url_for('meds.meds') }}">Medicine Types</a></li>
            
            <li><a class="dropdown-item" href="{{url_for('edit.fetch')}}">Medicine Units</a></li>
            {% if session.get('is_admin') %}
            <li><a class="dropdown-item" href="{{ url_for('med_name.mednames') }}">Master Medicines</a></li>
            {% endif %}
          </ul>
        </li>
        

        <li class="nav-item">          <a class="nav-link  " href="/medicines">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>pharmacy-medicine</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-2319.000000, -291.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(603.000000, 0.000000)">
                        <!-- Medicine pill icon -->
                        <path class="color-background"
                          d="M30,12 C25.029,12 21,16.029 21,21 C21,25.971 25.029,30 30,30 C34.971,30 39,25.971 39,21 C39,16.029 34.971,12 30,12 Z M33,22 L31,22 L31,24 C31,24.553 30.553,25 30,25 C29.447,25 29,24.553 29,24 L29,22 L27,22 C26.447,22 26,21.553 26,21 C26,20.447 26.447,20 27,20 L29,20 L29,18 C29,17.447 29.447,17 30,17 C30.553,17 31,17.447 31,18 L31,20 L33,20 C33.553,20 34,20.447 34,21 C34,21.553 33.553,22 33,22 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M12,18 C7.029,18 3,22.029 3,27 C3,31.971 7.029,36 12,36 C16.971,36 21,31.971 21,27 C21,22.029 16.971,18 12,18 Z M15.5,28 L8.5,28 C7.672,28 7,27.328 7,26.5 C7,25.672 7.672,25 8.5,25 L15.5,25 C16.328,25 17,25.672 17,26.5 C17,27.328 16.328,28 15.5,28 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1"> Pharmacy Medicine </span>
          </a>
        </li>
        
        <!-- <li class="nav-item">
          <a class="nav-link  " href="{{ url_for('med_name.mednames') }}">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 43 36" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>credit-card</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-2169.000000, -745.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(453.000000, 454.000000)">
                        <path class="color-background opacity-6"
                          d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z">
                        </path>
                        <path class="color-background"
                          d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Medicines Names</span>
          </a>
        </li> -->
        <li class="nav-item">          
          <a class="nav-link  " href="/brands">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 43 36" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>manufacturer</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-2169.000000, -745.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(453.000000, 454.000000)">
                        <!-- Factory/manufacturer icon -->
                        <path class="color-background opacity-6"
                          d="M40,8 L28,16 L28,8 L16,16 L16,0 L4,0 C1.791,0 0,1.791 0,4 L0,32 C0,34.209 1.791,36 4,36 L40,36 C42.209,36 44,34.209 44,32 L44,12 C44,9.791 42.209,8 40,8 Z">
                        </path>
                        <path class="color-background"
                          d="M8,20 C6.895,20 6,20.895 6,22 L6,28 C6,29.105 6.895,30 8,30 C9.105,30 10,29.105 10,28 L10,22 C10,20.895 9.105,20 8,20 Z M16,20 C14.895,20 14,20.895 14,22 L14,28 C14,29.105 14.895,30 16,30 C17.105,30 18,29.105 18,28 L18,22 C18,20.895 17.105,20 16,20 Z M24,20 C22.895,20 22,20.895 22,22 L22,28 C22,29.105 22.895,30 24,30 C25.105,30 26,29.105 26,28 L26,22 C26,20.895 25.105,20 24,20 Z M32,20 C30.895,20 30,20.895 30,22 L30,28 C30,29.105 30.895,30 32,30 C33.105,30 34,29.105 34,28 L34,22 C34,20.895 33.105,20 32,20 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Medicine Manufacturer</span>
          </a>
        </li>        {% if session.get('is_admin') %}        <li class="nav-item">
          <a class="nav-link  " href="/users">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>users</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-2319.000000, -291.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(603.000000, 0.000000)">
                        <!-- User profile icon -->
                        <path class="color-background"
                          d="M21,0 C26.5228,0 31,4.47715 31,10 C31,12.9697 29.6192,15.6275 27.4076,17.3575 C33.3637,19.7731 37.5,25.4706 37.5,32.1429 C37.5,33.2474 36.6046,34.1429 35.5,34.1429 L6.5,34.1429 C5.39543,34.1429 4.5,33.2474 4.5,32.1429 C4.5,25.4706 8.63616,19.7731 14.5924,17.3575 C12.3808,15.6275 11,12.9697 11,10 C11,4.47715 15.4772,0 21,0 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M21,4 C17.6863,4 15,6.68629 15,10 C15,13.3137 17.6863,16 21,16 C24.3137,16 27,13.3137 27,10 C27,6.68629 24.3137,4 21,4 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Pharmacy User</span>
          </a>
        </li>
        {% endif %}
        <!-- <li class="nav-item">
          <a class="nav-link  " href="{{url_for('medstock.stock')}}">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>box-3d-50</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-2319.000000, -291.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(603.000000, 0.000000)">
                        <path class="color-background"
                          d="M22.7597136,19.3090182 L38.8987031,11.2395234 C39.3926816,10.9925342 39.592906,10.3918611 39.3459167,9.89788265 C39.249157,9.70436312 39.0922432,9.5474453 38.8987261,9.45068056 L20.2741875,0.1378125 L20.2741875,0.1378125 C19.905375,-0.04725 19.469625,-0.04725 19.0995,0.1378125 L3.1011696,8.13815822 C2.60720568,8.38517662 2.40701679,8.98586148 2.6540352,9.4798254 C2.75080129,9.67332903 2.90771305,9.83023153 3.10122239,9.9269862 L21.8652864,19.3090182 C22.1468139,19.4497819 22.4781861,19.4497819 22.7597136,19.3090182 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M23.625,22.429159 L23.625,39.8805372 C23.625,40.4328219 24.0727153,40.8805372 24.625,40.8805372 C24.7802551,40.8805372 24.9333778,40.8443874 25.0722402,40.7749511 L41.2741875,32.673375 L41.2741875,32.673375 C41.719125,32.4515625 42,31.9974375 42,31.5 L42,14.241659 C42,13.6893742 41.5522847,13.241659 41,13.241659 C40.8447549,13.241659 40.6916418,13.2778041 40.5527864,13.3472318 L24.1777864,21.5347318 C23.8390024,21.7041238 23.625,22.0503869 23.625,22.429159 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M20.4472136,21.5347318 L1.4472136,12.0347318 C0.953235098,11.7877425 0.352562058,11.9879669 0.105572809,12.4819454 C0.0361450918,12.6208008 6.47121774e-16,12.7739139 0,12.929159 L0,30.1875 L0,30.1875 C0,30.6849375 0.280875,31.1390625 0.7258125,31.3621875 L19.5528096,40.7750766 C20.0467945,41.0220531 20.6474623,40.8218132 20.8944388,40.3278283 C20.963859,40.1889789 21,40.0358742 21,39.8806379 L21,22.429159 C21,22.0503869 20.7859976,21.7041238 20.4472136,21.5347318 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Medicine Stocks</span>
          </a>
        </li> -->


        <!-- Pharmacy Details -->
        <!-- <li class="nav-item">
          <a class="nav-link  " href="{{url_for('pharm_details.details')}}">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>box-3d-50</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-2319.000000, -291.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(603.000000, 0.000000)">
                        <path class="color-background"
                          d="M22.7597136,19.3090182 L38.8987031,11.2395234 C39.3926816,10.9925342 39.592906,10.3918611 39.3459167,9.89788265 C39.249157,9.70436312 39.0922432,9.5474453 38.8987261,9.45068056 L20.2741875,0.1378125 L20.2741875,0.1378125 C19.905375,-0.04725 19.469625,-0.04725 19.0995,0.1378125 L3.1011696,8.13815822 C2.60720568,8.38517662 2.40701679,8.98586148 2.6540352,9.4798254 C2.75080129,9.67332903 2.90771305,9.83023153 3.10122239,9.9269862 L21.8652864,19.3090182 C22.1468139,19.4497819 22.4781861,19.4497819 22.7597136,19.3090182 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M23.625,22.429159 L23.625,39.8805372 C23.625,40.4328219 24.0727153,40.8805372 24.625,40.8805372 C24.7802551,40.8805372 24.9333778,40.8443874 25.0722402,40.7749511 L41.2741875,32.673375 L41.2741875,32.673375 C41.719125,32.4515625 42,31.9974375 42,31.5 L42,14.241659 C42,13.6893742 41.5522847,13.241659 41,13.241659 C40.8447549,13.241659 40.6916418,13.2778041 40.5527864,13.3472318 L24.1777864,21.5347318 C23.8390024,21.7041238 23.625,22.0503869 23.625,22.429159 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M20.4472136,21.5347318 L1.4472136,12.0347318 C0.953235098,11.7877425 0.352562058,11.9879669 0.105572809,12.4819454 C0.0361450918,12.6208008 6.47121774e-16,12.7739139 0,12.929159 L0,30.1875 L0,30.1875 C0,30.6849375 0.280875,31.1390625 0.7258125,31.3621875 L19.5528096,40.7750766 C20.0467945,41.0220531 20.6474623,40.8218132 20.8944388,40.3278283 C20.963859,40.1889789 21,40.0358742 21,39.8806379 L21,22.429159 C21,22.0503869 20.7859976,21.7041238 20.4472136,21.5347318 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Pharmacy Details</span>
          </a>
        </li> -->

        <!-- <li class="nav-item">
          <a class="nav-link  " href="{{url_for('ratelist.medratelist')}}">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>box-3d-50</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-2319.000000, -291.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(603.000000, 0.000000)">
                        <path class="color-background"
                          d="M22.7597136,19.3090182 L38.8987031,11.2395234 C39.3926816,10.9925342 39.592906,10.3918611 39.3459167,9.89788265 C39.249157,9.70436312 39.0922432,9.5474453 38.8987261,9.45068056 L20.2741875,0.1378125 L20.2741875,0.1378125 C19.905375,-0.04725 19.469625,-0.04725 19.0995,0.1378125 L3.1011696,8.13815822 C2.60720568,8.38517662 2.40701679,8.98586148 2.6540352,9.4798254 C2.75080129,9.67332903 2.90771305,9.83023153 3.10122239,9.9269862 L21.8652864,19.3090182 C22.1468139,19.4497819 22.4781861,19.4497819 22.7597136,19.3090182 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M23.625,22.429159 L23.625,39.8805372 C23.625,40.4328219 24.0727153,40.8805372 24.625,40.8805372 C24.7802551,40.8805372 24.9333778,40.8443874 25.0722402,40.7749511 L41.2741875,32.673375 L41.2741875,32.673375 C41.719125,32.4515625 42,31.9974375 42,31.5 L42,14.241659 C42,13.6893742 41.5522847,13.241659 41,13.241659 C40.8447549,13.241659 40.6916418,13.2778041 40.5527864,13.3472318 L24.1777864,21.5347318 C23.8390024,21.7041238 23.625,22.0503869 23.625,22.429159 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M20.4472136,21.5347318 L1.4472136,12.0347318 C0.953235098,11.7877425 0.352562058,11.9879669 0.105572809,12.4819454 C0.0361450918,12.6208008 6.47121774e-16,12.7739139 0,12.929159 L0,30.1875 L0,30.1875 C0,30.6849375 0.280875,31.1390625 0.7258125,31.3621875 L19.5528096,40.7750766 C20.0467945,41.0220531 20.6474623,40.8218132 20.8944388,40.3278283 C20.963859,40.1889789 21,40.0358742 21,39.8806379 L21,22.429159 C21,22.0503869 20.7859976,21.7041238 20.4472136,21.5347318 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Medicine Ratelist</span>
          </a>
        </li> -->
        <li class="nav-item">          <a class="nav-link  " href="{{url_for('billing.generate_bill_post')}}">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>billing</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-2319.000000, -291.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(603.000000, 0.000000)">
                        <!-- Receipt/bill icon -->
                        <path class="color-background"
                          d="M35,0 C36.6569,0 38,1.34315 38,3 L38,39 C38,39 35.5,36.5 33,39 C30.5,41.5 28,39 28,39 C28,39 25.5,36.5 23,39 C20.5,41.5 18,39 18,39 C18,39 15.5,36.5 13,39 C10.5,41.5 8,39 8,39 C8,39 5.5,36.5 3,39 L3,3 C3,1.34315 4.34315,0 6,0 L35,0 Z M31,12 L10,12 C9.44772,12 9,12.4477 9,13 C9,13.5523 9.44772,14 10,14 L31,14 C31.5523,14 32,13.5523 32,13 C32,12.4477 31.5523,12 31,12 Z M31,18 L10,18 C9.44772,18 9,18.4477 9,19 C9,19.5523 9.44772,20 10,20 L31,20 C31.5523,20 32,19.5523 32,19 C32,18.4477 31.5523,18 31,18 Z M31,24 L10,24 C9.44772,24 9,24.4477 9,25 C9,25.5523 9.44772,26 10,26 L31,26 C31.5523,26 32,25.5523 32,25 C32,24.4477 31.5523,24 31,24 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M31,6 L10,6 C9.44772,6 9,6.44772 9,7 C9,7.55228 9.44772,8 10,8 L31,8 C31.5523,8 32,7.55228 32,7 C32,6.44772 31.5523,6 31,6 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Billing</span>
          </a>
        </li>
        <li class="nav-item">          
          <a class="nav-link  " href="{{url_for('todo.index')}}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>todo-list</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-2319.000000, -291.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(603.000000, 0.000000)">
                        <!-- Todo list/checklist icon -->
                        <path class="color-background"
                          d="M36,2 C38.209,2 40,3.791 40,6 L40,36 C40,38.209 38.209,40 36,40 L6,40 C3.791,40 2,38.209 2,36 L2,6 C2,3.791 3.791,2 6,2 L36,2 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M16,11 L33,11 C33.5523,11 34,11.4477 34,12 C34,12.5523 33.5523,13 33,13 L16,13 C15.4477,13 15,12.5523 15,12 C15,11.4477 15.4477,11 16,11 Z M16,19 L33,19 C33.5523,19 34,19.4477 34,20 C34,20.5523 33.5523,21 33,21 L16,21 C15.4477,21 15,20.5523 15,20 C15,19.4477 15.4477,19 16,19 Z M16,27 L33,27 C33.5523,27 34,27.4477 34,28 C34,28.5523 33.5523,29 33,29 L16,29 C15.4477,29 15,28.5523 15,28 C15,27.4477 15.4477,27 16,27 Z M10,10 C11.1046,10 12,10.8954 12,12 C12,13.1046 11.1046,14 10,14 C8.89543,14 8,13.1046 8,12 C8,10.8954 8.89543,10 10,10 Z M10,18 C11.1046,18 12,18.8954 12,20 C12,21.1046 11.1046,22 10,22 C8.89543,22 8,21.1046 8,20 C8,18.8954 8.89543,18 10,18 Z M10,26 C11.1046,26 12,26.8954 12,28 C12,29.1046 11.1046,30 10,30 C8.89543,30 8,29.1046 8,28 C8,26.8954 8.89543,26 10,26 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Todo Tasks</span>
          </a>
        </li>
        <li class="nav-item dropdown">          
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 45 40" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>reports</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-1716.000000, -439.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(0.000000, 148.000000)">
                        <!-- Reports/chart icon -->
                        <path class="color-background"
                          d="M38,0 C40.209,0 42,1.791 42,4 L42,36 C42,38.209 40.209,40 38,40 L4,40 C1.791,40 0,38.209 0,36 L0,4 C0,1.791 1.791,0 4,0 L38,0 Z M10,28 C8.895,28 8,28.895 8,30 L8,34 C8,35.105 8.895,36 10,36 C11.105,36 12,35.105 12,34 L12,30 C12,28.895 11.105,28 10,28 Z M21,16 C19.895,16 19,16.895 19,18 L19,34 C19,35.105 19.895,36 21,36 C22.105,36 23,35.105 23,34 L23,18 C23,16.895 22.105,16 21,16 Z M32,22 C30.895,22 30,22.895 30,24 L30,34 C30,35.105 30.895,36 32,36 C33.105,36 34,35.105 34,34 L34,24 C34,22.895 33.105,22 32,22 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M10,8 C8.895,8 8,8.895 8,10 C8,11.105 8.895,12 10,12 L32,12 C33.105,12 34,11.105 34,10 C34,8.895 33.105,8 32,8 L10,8 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Reports</span>
          </a>
          <ul class="dropdown-menu mx-5">
            <li>
              <a class="dropdown-item" href="{{ url_for('lowstock.stocks') }}">Stock Report</a>
            </li>
            <li>
              <a class="dropdown-item" href="{{url_for('report_bp.business_report_proxy')}}"  target="_blank">Business Report</a>
            </li>
            <li>
              <a class="dropdown-item" href="{{url_for('expiry_report.index')}}">Expiry Report</a>
            </li>
          </ul>

        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Account pages</h6>
        </li>

        {% if session['user_id'] %}
        <li class="nav-item">          <a class="nav-link  " href="{{ url_for('auth_bp.logout') }}">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 40 44" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>logout</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-1870.000000, -591.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(154.000000, 300.000000)">
                        <!-- Logout icon -->
                        <path class="color-background opacity-6"
                          d="M24,4 L6,4 C4.895,4 4,4.895 4,6 L4,18 L6,18 L6,6 L24,6 L24,30 L6,30 L6,18 L4,18 L4,30 C4,31.105 4.895,32 6,32 L24,32 C25.105,32 26,31.105 26,30 L26,6 C26,4.895 25.105,4 24,4 Z">
                        </path>
                        <path class="color-background"
                          d="M14.2929,21.2929 L10.5858,25 L14.2929,28.7071 C14.6834,29.0976 14.6834,29.7308 14.2929,30.1213 C13.9024,30.5118 13.2692,30.5118 12.8787,30.1213 L8.1716,25.4142 C7.78107,25.0237 7.78107,24.3905 8.1716,24 L12.8787,19.2929 C13.2692,18.9024 13.9024,18.9024 14.2929,19.2929 C14.6834,19.6834 14.6834,20.3166 14.2929,20.7071 L10.5858,24.4142 L18,24.4142 L18,19 C18,18.4477 18.4477,18 19,18 C19.5523,18 20,18.4477 20,19 L20,25.4142 C20,25.9665 19.5523,26.4142 19,26.4142 L14.2929,26.4142 L14.2929,21.2929 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Logout</span>
          </a>
        </li>
        {% else %}
        <li class="nav-item">          <a class="nav-link  " href="{{ url_for('auth_bp.login') }}">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 40 44" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>sign-in</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-1870.000000, -591.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(154.000000, 300.000000)">
                        <!-- Login icon -->
                        <path class="color-background opacity-6"
                          d="M24,4 L6,4 C4.895,4 4,4.895 4,6 L4,18 L6,18 L6,6 L24,6 L24,30 L6,30 L6,18 L4,18 L4,30 C4,31.105 4.895,32 6,32 L24,32 C25.105,32 26,31.105 26,30 L26,6 C26,4.895 25.105,4 24,4 Z">
                        </path>
                        <path class="color-background"
                          d="M19.2929,19.2929 C18.9024,18.9024 18.9024,18.2692 19.2929,17.8787 L21.5858,15.5858 L15,15.5858 C14.4477,15.5858 14,15.1381 14,14.5858 C14,14.0335 14.4477,13.5858 15,13.5858 L21.5858,13.5858 L19.2929,11.2929 C18.9024,10.9024 18.9024,10.2692 19.2929,9.87868 C19.6834,9.48816 20.3166,9.48816 20.7071,9.87868 L25.4142,14.5858 C25.8047,14.9763 25.8047,15.6095 25.4142,16 L20.7071,20.7071 C20.3166,21.0976 19.6834,21.0976 19.2929,20.7071 L19.2929,19.2929 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Sign In</span>
          </a>
        </li>
        <li class="nav-item">          <a class="nav-link" href="{{ url_for('auth_bp.signup') }}">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>sign-up</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-1720.000000, -592.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(4.000000, 301.000000)">
                        <!-- User add/signup icon -->
                        <path class="color-background"
                          d="M15,0 C18.866,0 22,3.13401 22,7 C22,10.866 18.866,14 15,14 C11.134,14 8,10.866 8,7 C8,3.13401 11.134,0 15,0 Z M15,16 C23.2843,16 30,22.7157 30,31 C30,31.5523 29.5523,32 29,32 L1,32 C0.44772,32 0,31.5523 0,31 C0,22.7157 6.71573,16 15,16 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M35,12 L37,12 C38.6569,12 40,13.3431 40,15 L40,17 C40,18.6569 38.6569,20 37,20 L35,20 L35,22 C35,23.6569 33.6569,25 32,25 L30,25 C28.3431,25 27,23.6569 27,22 L27,20 L25,20 C23.3431,20 22,18.6569 22,17 L22,15 C22,13.3431 23.3431,12 25,12 L27,12 L27,10 C27,8.34315 28.3431,7 30,7 L32,7 C33.6569,7 35,8.34315 35,10 L35,12 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Sign Up</span>
          </a>
        </li>
        {% endif %}
      </ul>
    </div>
  
  </aside>

  <div class="container position-sticky z-index-sticky top-0">
    <div class="row">
      <div class="col-12">
        <nav
          class="navbar navbar-expand-lg blur blur-rounded top-0 z-index-3 shadow p-3 mb-4 position-absolute my-2 py-2 start-0 end-0 mx-4">
          <div class="container">
            <a class="navbar-brand font-weight-bolder" href="{{ url_for('auth_bp.dashboard') }}">HealEasy</a>

            <div class="navbar-nav ms-auto">
              {% if session['user_id'] %}
              <a class="nav-link btn btn-primary text-grey fw-bold mt-2 mx-2" href="{{ url_for('auth_bp.logout') }}">
                logout
              </a>
              {% else %}
              <a class="nav-link btn btn-primary text-grey fw-bold mt-2 mx-2"
                href="{{ url_for('auth_bp.login') }}">Sign-In</a>
              <a class="nav-link btn btn-primary text-grey fw-bold mt-2"
                href="{{ url_for('auth_bp.signup') }}">Sign-up</a>
            </div>
            {% endif %}
          </div>
        </nav>
      </div>
    </div>
  </div>

  <!-- Content to be shown on the page -->

  <main>
  {% block content %}
<div class="container-fluid mt-7">
  <div class="row">
    <!-- Main content wrapper with responsive sidebar offset -->
    <div class="col-12 col-lg-10 offset-lg-2">
      <!-- Responsive padding that adjusts based on screen size -->
      <div class="px-2 px-sm-3 px-lg-4 py-4">
        <!-- Alert Messages with improved responsive width -->
        <div class="row justify-content-center mb-4">
          <div class="col-12 col-md-10 col-xl-8">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="black" class="bi bi-x-lg" viewBox="0 0 16 16">
                  <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" />
                </svg>
              </button>
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}
          </div>
        </div>

        <!-- Statistics Cards with enhanced responsive grid -->
        <div class="row g-3 mb-4">
          <!-- Each card uses a more granular responsive approach -->
          <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-3">
            <div class="card text-success h-100 shadow-sm">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="flex-grow-1">
                    <h4 class="fw-bold mb-1">â‚¹10,500</h4>
                    <small class="text-uppercase">Total Income</small>
                  </div>
                  <div class="flex-shrink-0 ms-3">
                    <i class="bi bi-currency-rupee fs-2"></i>
                  </div>
                </div>
                <div class="stat-footer text-success d-flex justify-content-between align-items-center rounded mt-3 px-3 py-2">
                  <small>20% increase</small>
                  <i class="bi bi-caret-up-fill"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-3">
            <div class="card text-danger h-100 shadow-sm" onclick="window.location.href='{{ url_for('expiry_report.index') }}'" style="cursor: pointer;">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="flex-grow-1">
                    <h4 class="fw-bold mb-1">{{ expiring_count }}</h4>
                    <small class="text-uppercase">Expiring Medicines</small>
                  </div>
                  <div class="flex-shrink-0 ms-3">
                    <i class="bi bi-capsule fs-2"></i>
                  </div>
                </div>
                <div class="stat-footer text-danger d-flex justify-content-between align-items-center rounded mt-3 px-3 py-2">
                  <small>Within this week</small>
                  <i class="bi bi-alarm"></i>
                </div>
              </div>
            </div>
          </div>
          
          
          <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-3">
            <div class="card text-info h-100 shadow-sm" >
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-start" id="inventoryCard">
                  <div class="flex-grow-1">
                    <h4 class="fw-bold mb-1">{{ medicine_count }}</h4>
                    <small class="text-uppercase">Inventory</small>
                  </div>
                  <div class="flex-shrink-0 ms-3">
                    <i class="bi bi-capsule fs-2"></i>
                  </div>
                </div>
                <div class="stat-footer text-info d-flex justify-content-between align-items-center rounded mt-3 px-3 py-2">
                  <small>10% increase</small>
                  <i class="bi bi-caret-up-fill"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-3">
            <div class="card text-secondary h-100 shadow-sm">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="flex-grow-1">
                    <h4 class="fw-bold mb-1">3,500</h4>
                    <small class="text-uppercase">Visitors</small>
                  </div>
                  <div class="flex-shrink-0 ms-3">
                    <i class="bi bi-geo-alt fs-2"></i>
                  </div>
                </div>
                <div class="stat-footer text-secondary d-flex justify-content-between align-items-center rounded mt-3 px-3 py-2">
                  <small>5% decrease</small>
                  <i class="bi bi-caret-down-fill"></i>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Charts with improved responsive layout -->
        <div class="row g-4">
          <!-- Chart containers with better responsiveness -->
          <div class="col-12 col-md-12 col-lg-6">
            <div class="card rounded-4 shadow-lg h-100">
              <div class="card-body p-3 p-sm-4">
                <div class="chart-wrapper position-relative" style="min-height: 300px;">
                  <canvas id="myChart" style="width: 100%; height: 100%;"></canvas>
                </div>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-12 col-lg-6">
            <div class="card rounded-4 shadow-lg h-100">
              <div class="card-body p-3 p-sm-4">
                <div class="chart-wrapper position-relative" style="min-height: 300px;">
                  <canvas id="myChart2" style="width: 100%; height: 100%;"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Add responsive chart adjustments -->
<style>
  @media (max-width: 576px) {
    .chart-wrapper {
      min-height: 250px !important;
    }
  }
  @media (min-width: 577px) and (max-width: 991px) {
    .chart-wrapper {
      min-height: 300px !important;
    }
  }
  @media (min-width: 992px) {
    .chart-wrapper {
      min-height: 350px !important;
    }
  }
  
  /* Ensure charts are responsive */
  .chart-wrapper {
    position: relative;
    margin: auto;
    width: 100%;
  }
  
  /* Card hover effects */
  .card {
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  }
  
  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
  }
  
  /* Improved spacing for small screens */
  @media (max-width: 576px) {
    .card-body {
      padding: 1rem;
    }
  }
  
  /* Better text scaling */
  @media (max-width: 375px) {
    h4.fw-bold {
      font-size: 1.25rem;
    }
    .fs-2 {
      font-size: 1.5rem !important;
    }
  }
</style>

<!-- Chart.js Scripts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
// Wait for the DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function() {
  // Line Chart
  const lineCtx = document.getElementById('myChart');
  if (lineCtx) {
    new Chart(lineCtx, {
      type: 'line',
      data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
          label: '# of Votes',
          borderColor: '#FB6340',
          backgroundColor: 'rgba(251, 99, 64, 0.2)',
          data: [12, 19, 3, 5, 2, 3],
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });
  }

  // Bar Chart
  const barCtx = document.getElementById('myChart2');
  if (barCtx) {
    try {
      const batchNumbers = {{ batch_numbers | tojson | safe }};
      const quantities = {{ quantities | tojson | safe }};

      new Chart(barCtx, {
        type: 'bar',
        data: {
          labels: batchNumbers,
          datasets: [{
            label: 'Stock Quantity',
            borderColor: '#FB6340',
            backgroundColor: 'rgba(251, 99, 64, 0.2)',
            data: quantities,
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              min: 0,
              max: 80,
              ticks: {
                stepSize: 10
              },
              title: {
                display: false,
                text: 'Quantity'
              }
            },
            x: {
              ticks: {
                maxRotation: 45,
                minRotation: 0
              }
            }
          },
          plugins: {
            legend: {
              display: true,
              position: 'top'
            }
          }
        }
      });
    } catch (error) {
      console.error('Error initializing bar chart:', error);
    }
  }
});

</script>


    <!--  -->

    {% endblock %}
  </main>
















    <!--   Core JS Files   -->
    <script src="soft-ui-dashboard-main/assets/js/core/popper.min.js"></script>
    <script src="soft-ui-dashboard-main/assets/js/core/bootstrap.min.js"></script>
    <script src="soft-ui-dashboard-main/assets/js/plugins/perfect-scrollbar.min.js"></script>
    <script src="soft-ui-dashboard-main/assets/js/plugins/smooth-scrollbar.min.js"></script>
    <script src="soft-ui-dashboard-main/assets/js/plugins/chartjs.min.js"></script>

    <!-- JS for Data Table -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/2.2.2/js/dataTables.js"></script>
    <script src="https://cdn.datatables.net/2.2.2/js/dataTables.bootstrap4.js"></script>

    <!-- script for data table -->
    <script>
      new DataTable('#meds', {
        scrollX: true,
        scrollY: true
      });
    </script>
    <script>
      new DataTable('#medicine_inventory', {
        scrollX: true,
        scrollY: true
      });
    </script>


    <script>
      new DataTable('#brands')
    </script>
    <script>
      new DataTable('#med', {
        scrollX: true,
        scrollY: true
      });
    </script>



    <script>
      var ctx3 = document.getElementById("chart-bars").getContext("2d");

      new Chart(ctx3, {
        type: "bar",
        data: {
          labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
          datasets: [{
            label: "Sales",
            tension: 0.4,
            borderWidth: 0,
            borderRadius: 4,
            borderSkipped: false,
            backgroundColor: "#fff",
            data: [450, 200, 100, 220, 500, 100, 400, 230, 500],
            maxBarThickness: 6
          },],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            }
          },
          interaction: {
            intersect: false,
            mode: 'index',
          },
          scales: {
            y: {
              grid: {
                drawBorder: false,
                display: false,
                drawOnChartArea: false,
                drawTicks: false,
              },
              ticks: {
                suggestedMin: 0,
                suggestedMax: 500,
                beginAtZero: true,
                padding: 15,
                font: {
                  size: 14,
                  family: "Inter",
                  style: 'normal',
                  lineHeight: 2
                },
                color: "#fff"
              },
            },
            x: {
              grid: {
                drawBorder: false,
                display: false,
                drawOnChartArea: false,
                drawTicks: false
              },
              ticks: {
                display: false
              },
            },
          },
        },
      });


      var ctx4 = document.getElementById("chart-line").getContext("2d");

      var gradientStroke1 = ctx2.createLinearGradient(0, 230, 0, 50);

      gradientStroke1.addColorStop(1, 'rgba(203,12,159,0.2)');
      gradientStroke1.addColorStop(0.2, 'rgba(72,72,176,0.0)');
      gradientStroke1.addColorStop(0, 'rgba(203,12,159,0)'); //purple colors

      var gradientStroke2 = ctx2.createLinearGradient(0, 230, 0, 50);

      gradientStroke2.addColorStop(1, 'rgba(20,23,39,0.2)');
      gradientStroke2.addColorStop(0.2, 'rgba(72,72,176,0.0)');
      gradientStroke2.addColorStop(0, 'rgba(20,23,39,0)'); //purple colors

    </script>
    <script>
      var win = navigator.platform.indexOf('Win') > -1;
      if (win && document.querySelector('#sidenav-scrollbar')) {
        var options = {
          damping: '0.5'
        }
        Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
      }
    </script>
    <!-- Github buttons -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="soft-ui-dashboard-main/js/soft-ui-dashboard.min.js?v=1.1.0"></script>
    <script>
      // Auto-hide alerts after 2 seconds
      document.addEventListener('DOMContentLoaded', function () {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(function (alert) {
          setTimeout(function () {
            // Create fade out effect
            alert.classList.remove('show');
            alert.classList.add('fade');

            // Remove alert after fade animation
            setTimeout(function () {
              alert.remove();
            }, 150);
          }, 2000); // 2000ms = 2 seconds
        });
      });
    </script>

    <!-- Phone number validations -->
    <script>
      const phoneInput = document.getElementById('phone');

      phoneInput.addEventListener('input', function () {
        // Remove all non-digit characters
        let digits = this.value.replace(/\D/g, '');

        // Limit to first 10 digits
        if (digits.length > 10) {
          digits = digits.slice(0, 10);
        }

        this.value = digits;
      });
    </script>

     <script>
    document.addEventListener('DOMContentLoaded', function() {
      const mobileToggleBtn = document.getElementById('mobileToggleBtn');
      const sidebar = document.getElementById('sidenav-main');
      const hamburgerIcon = document.getElementById('hamburgerIcon');

      // Toggle sidebar function
      function toggleSidebar() {
        sidebar.classList.toggle('show');
        hamburgerIcon.classList.toggle('active');
      }

      // Close sidebar function
      function closeSidebar() {
        sidebar.classList.remove('show');
        hamburgerIcon.classList.remove('active');
      }

      // Event listeners
      mobileToggleBtn.addEventListener('click', toggleSidebar);

      // Close sidebar when clicking outside of it
      document.addEventListener('click', function(e) {
        // Check if click is outside sidebar and toggle button
        if (!sidebar.contains(e.target) && !mobileToggleBtn.contains(e.target)) {
          if (sidebar.classList.contains('show') && window.innerWidth < 1200) {
            closeSidebar();
          }
        }
      });

      // Close sidebar when clicking on a nav link (mobile)
      const navLinks = sidebar.querySelectorAll('.nav-link:not(.dropdown-toggle)');
      navLinks.forEach(link => {
        link.addEventListener('click', function() {
          // Only close on mobile screens
          if (window.innerWidth < 1200) {
            closeSidebar();
          }
        });
      });

      // Handle window resize
      window.addEventListener('resize', function() {
        if (window.innerWidth >= 1200) {
          // Close sidebar and reset styles when switching to desktop
          closeSidebar();
        }
      });

      // Handle escape key to close sidebar
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && sidebar.classList.contains('show')) {
          closeSidebar();
        }
      });    });
  </script>
  <!-- Footer -->    <footer class="footer py-2 position-relative mt-4">
    <div class="container">
      <div class="row d-flex align-items-center">
        <div class="col-lg-6 mb-2 mb-lg-0">
          <div class="d-flex flex-column">
            <h6 class="mb-1 font-weight-bold text-gradient text-dark">HealEasy</h6>
            <p class="mb-0 text-sm text-secondary">
              Â© <script>document.write(new Date().getFullYear())</script> All Rights Reserved | Setukrite Technologies Pvt Ltd.
            </p>
            <p class="text-xs text-secondary mt-1">Empowering pharmacies with smart solutions</p>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="d-flex flex-column align-items-center align-items-lg-end">
            <div class="d-flex justify-content-center mt-3">
              <a href="https://www.youtube.com/@setukrite" data-toggle="icons" data-placement="top" title="You Tube" class="btn btn-icon-only blur-rounded shadow-sm mx-3 bg-white text-dark" style="width: 42px; height: 42px; display: flex; align-items: center; justify-content: center;" target="_blank">
                <i class="bi bi-youtube" style="font-size: 1.3rem;"></i>
              </a>
              <a href="https://facebook.com/setukrite" data-toggle="icons" data-placement="top" title="Facebook" class="btn btn-icon-only blur-rounded shadow-sm mx-3 bg-white text-dark" style="width: 42px; height: 42px; display: flex; align-items: center; justify-content: center;" target="_blank">
                <i class="bi bi-facebook" style="font-size: 1.3rem;"></i>
              </a>
              <a href="https://instagram.com/setukrite" data-toggle="icons" data-placement="top" title="Instagram" class="btn btn-icon-only blur-rounded shadow-sm mx-3 bg-white text-dark" style="width: 42px; height: 42px; display: flex; align-items: center; justify-content: center;" target="_blank">
                <i class="bi bi-instagram" style="font-size: 1.3rem;"></i>
              </a>
              <a href="https://www.setukrite.com/" data-toggle="icons" data-placement="top" title="Website" class="btn btn-icon-only blur-rounded shadow-sm mx-3 bg-white text-dark" style="width: 42px; height: 42px; display: flex; align-items: center; justify-content: center;" target="_blank">
                <i class="bi bi-globe" style="font-size: 1.3rem;"></i>
              </a>
            </div>
            <ul class="nav nav-footer justify-content-center">
              <li class="nav-item">
                <a href="#" class="nav-link text-secondary text-xs">Privacy Policy</a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link text-secondary text-xs">Terms of Use</a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link text-secondary text-xs">Contact Us</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
        $(function () {
            $('[data-toggle="icons"]').icons()
        });
    </script>
  
</body>

</html>